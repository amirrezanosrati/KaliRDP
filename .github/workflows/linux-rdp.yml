name: Kali Linux Tools
on:
  workflow_dispatch:

jobs:
  kali-tools:
    runs-on: ubuntu-latest
    timeout-minutes: 30  # Ø§ÙØ²Ø§ÛŒØ´ Ø²Ù…Ø§Ù† Ø§Ø¬Ø±Ø§
    steps:
    - name: Install Docker
      run: |
        sudo apt-get update
        sudo apt-get install -y docker.io

    - name: Pull Kali Linux image
      run: |
        docker pull kalilinux/kali-rolling
        echo "âœ… Kali image downloaded"

    - name: Install basic tools
      run: |
        # Ù†ØµØ¨ tools Ø¶Ø±ÙˆØ±ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
        docker run --rm kalilinux/kali-rolling bash -c "
          apt-get update -y &&
          apt-get install -y nmap sqlmap curl wget --no-install-recommends &&
          echo 'âœ… Basic tools installed'
        "

    - name: Install network tools
      run: |
        docker run --rm kalilinux/kali-rolling bash -c "
          apt-get install -y net-tools dnsutils netcat-traditional --no-install-recommends &&
          echo 'âœ… Network tools installed'
        "

    - name: Show available tools
      run: |
        echo "=========================================="
        echo "ğŸ¯ KALI LINUX TOOLS READY TO USE!"
        echo "=========================================="
        echo "ğŸš€ Basic Tools:"
        echo "nmap, sqlmap, curl, wget"
        echo ""
        echo "ğŸŒ Network Tools:"
        echo "net-tools, dnsutils, netcat"
        echo ""
        echo "ğŸ”§ Usage Examples:"
        echo "docker run --rm kalilinux/kali-rolling nmap -sS google.com"
        echo "docker run --rm kalilinux/kali-rolling sqlmap --version"
        echo "docker run --rm kalilinux/kali-rolling curl -I https://google.com"
        echo "docker run --rm kalilinux/kali-rolling nslookup google.com"
        echo ""
        echo "ğŸ’¡ Note: Each tool runs in isolated container"
        echo "=========================================="

    - name: Run example scans
      run: |
        echo "ğŸ”§ Running example security scans..."
        
        # Ø§Ø³Ú©Ù† Ù¾Ø§ÛŒÙ‡
        echo "1. Nmap ping scan:"
        docker run --rm kalilinux/kali-rolling nmap -sP 8.8.8.8
        
        echo "2. SQLMap version check:"
        docker run --rm kalilinux/kali-rolling sqlmap --version
        
        echo "3. HTTP header test:"
        docker run --rm kalilinux/kali-rolling curl -I https://google.com
        
        echo "4. DNS lookup:"
        docker run --rm kalilinux/kali-rolling nslookup google.com

    - name: Keep alive for more commands
      run: |
        echo "ğŸŸ¢ Kali tools are ready!"
        echo "ğŸ’¡ You can add more steps to run specific commands"
        echo "â° This workflow will run for 30 minutes"
        echo ""
        echo "ğŸ“‹ Example commands to add:"
        echo "- docker run --rm kalilinux/kali-rolling nmap -sS scanme.nmap.org"
        echo "- docker run --rm kalilinux/kali-rolling sqlmap --wizard"
        echo "- docker run --rm kalilinux/kali-rolling curl https://ifconfig.me"
        
        # Ù†Ú¯Ù‡ Ø¯Ø§Ø´ØªÙ† workflow Ø¨Ø±Ø§ÛŒ 10 Ø¯Ù‚ÛŒÙ‚Ù‡
        sleep 600
